<div class="container">
  <div class="row">
    <h2>出荷カレンダー</h2>
    <p class="h3 text-end bg-dark text-white " id="RealtimeClockArea2"></p>
    <div class="shipment-make-first">
      <% if user_signed_in? %>
        <%= link_to "工事一覧", users_constructions_path, class: "btn btn-primary" %>
      <% else %>
      <% end %>
    </div>
    <div class="m-2" id='calendar'></div>
    <%= javascript_pack_tag 'calendar/event' %>
  </div>
  <div class="row">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>担当</th>
          <th>時間</th>
          <th>現場</th>
        </tr>
      </thead>
      <tbody>
        <% @day_heads.each do |day_data| %>
          <tr>
            <td><%= day_data.user.name %></td>
            <td><%= day_data.ship_date.strftime("%-m月%-d日 %-H時%-M分") %></td>
            <td><%= day_data.construction.name %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="request">
    <div class="row">
      <div class="col-sm border p-3 m-1">見積依頼（完了8件40％です。）
        <div class="h1 text-danger text-end">12</div>
      </div>
      <div class="col-sm border p-3 m-1">納品予定
        <div class="h1 text-primary text-end">8</div>
      </div>
      <div class="col-sm border p-3 m-1">承認依頼
        <div class="h1 text-warning text-end">11</div>
      </div>
    </div>
  </div>
</div>

<script>
  function set2fig(num){
    var ret;
    if(num < 10) {ret = "0" + num;}
    else{ret = num;}
    return ret;
  }
  function showClock2(){
		var nowTime = new Date();
		var nowHour = set2fig(nowTime.getHours());
		var nowMin = set2fig(nowTime.getMinutes());
		var nowSec = set2fig(nowTime.getSeconds());
		var msg = nowHour + ":" + nowMin + ":" + nowSec;
		document.getElementById("RealtimeClockArea2").innerHTML = msg;
	}
	setInterval('showClock2()' ,1000);
</script>
